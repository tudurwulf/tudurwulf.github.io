!function(t,e){"use strict";function i(){r="fresh",y=g=w=v=0,M=D=I=0,P=e("#total").find("dd"),A=e("#play").find("dd"),B=e("#timeout").find("dd"),C=e("#ratio"),H=e("#lap").find("dd"),k=e("#ckp").find("dd"),E=e("#stats"),F=E.find("tbody"),e(t).keydown(function(t){switch(t.which){case 32:return l(),!1;case 9:return d(),!1;case 13:return u(),!1;case 27:return a(),!1}}),e("#stopResetButton").mousedown(a),e("#lapButton").mousedown(u),e("#ckpButton").mousedown(d),e("#playTimeoutButton").mousedown(l)}function n(){o(new Date),c=setTimeout(n,100)}function o(e,i,n,o){var l,d,u,a,c,M,D,I,E,L,N;"playing"==r?(l=e-m,u=e-p+y,c=g,D=e-h+w,E=e-T+v):"inTimeout"==r?(l=e-m,u=y,c=e-f+g,D=w,E=v):"fresh"==r&&(l=u=c=D=E=0),d=s(l),a=s(u),M=s(c),I=s(D),L=s(E),P.html(d.slice(0,-2)),A.html(a.slice(0,-2)),t.title=a.slice(0,-4),B.html(M.slice(0,-2)),C.html(Math.round(100*u/l||100)+"%"),H.html(I.slice(0,-2)),k.html(L.slice(0,-2)),i&&(N=e.getFullYear()+"-"+("0"+e.getMonth()).slice(-2)+"-"+("0"+e.getDate()).slice(-2)+" "+("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)+":"+("0"+e.getSeconds()).slice(-2)+"."+("00"+e.getMilliseconds()).slice(-3),F.append("<tr class="+n+"><td>"+N+"</td><td>"+n+(o?" "+o:"")+"</td><td>"+L+"</td><td>"+I+"</td><td>"+a+"</td><td>"+M+"</td><td>"+d+"</td></tr>"))}function s(t){var e,i,n;return e=Math.floor(t/36e5),t%=36e5,i=Math.floor(t/6e4),t%=6e4,n=t/1e3,i=("0"+i).slice(-2),n=("0"+n.toFixed(3)).slice(-6),e+":"+i+":"+n}function l(){if("stopped"!=r){var t=new Date;"fresh"==r?(m=p=h=T=t,E.css("display","table"),o(t,!0,"START"),r="playing"):"playing"==r?(clearTimeout(c),o(t,!0,"TIMEOUT",++M),y+=t-p,w+=t-h,v+=t-T,f=t,r="inTimeout"):"inTimeout"==r&&(clearTimeout(c),o(t,!0,"PLAY"),g+=t-f,p=h=T=t,r="playing"),n()}}function d(){if("fresh"!=r&&"stopped"!=r&&("inTimeout"!=r||0!==v)){var t=new Date;"playing"==r?o(t,!0,"CHECKPOINT",++I):"inTimeout"==r&&o(f,!0,"CHECKPOINT",++I),v=0,T=t,o(t)}}function u(){if("fresh"!=r&&"stopped"!=r&&("inTimeout"!=r||0!==w)){var t=new Date;"playing"==r?o(t,!0,"LAP",++D):"inTimeout"==r&&o(f,!0,"LAP",++D),w=v=0,h=T=t,I=0,o(t)}}function a(){var e=new Date;"playing"==r||"inTimeout"==r?(clearTimeout(c),o(e,!0,"FINISH"),r="stopped"):"stopped"==r&&(P.html("0:00:00.0"),A.html("0:00:00.0"),t.title="0:00:00",B.html("0:00:00.0"),C.html("100%"),H.html("0:00:00.0"),k.html("0:00:00.0"),F.empty(),E.css("display","none"),y=g=w=v=0,M=D=I=0,r="fresh")}var c,r,m,p,f,h,T,y,g,w,v,M,D,I,P,A,B,C,H,k,E,F;e(i)}(document,jQuery);